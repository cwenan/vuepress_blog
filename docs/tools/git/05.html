<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>基本命令 | 问安Coding</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/logo.png">
    <script language="javascript" type="text/javascript" src="/js/ga.js"></script>
    <meta name="description" content="问安编程学习记录">
    <meta name="author" content="问安">
    <meta name="keywords" content="Java,python,c,css,js,vue">
    
    <link rel="preload" href="/assets/css/0.styles.c2acbf10.css" as="style"><link rel="preload" href="/assets/js/app.393b6f2a.js" as="script"><link rel="preload" href="/assets/js/6.42dbbf34.js" as="script"><link rel="preload" href="/assets/js/2.b314cc4e.js" as="script"><link rel="preload" href="/assets/js/26.b13a76d7.js" as="script"><link rel="prefetch" href="/assets/js/10.e8964feb.js"><link rel="prefetch" href="/assets/js/11.964c25ab.js"><link rel="prefetch" href="/assets/js/12.b0d946a5.js"><link rel="prefetch" href="/assets/js/13.d0e38224.js"><link rel="prefetch" href="/assets/js/14.ad022932.js"><link rel="prefetch" href="/assets/js/15.b542911a.js"><link rel="prefetch" href="/assets/js/16.dd671a6f.js"><link rel="prefetch" href="/assets/js/17.9ed7ed08.js"><link rel="prefetch" href="/assets/js/18.ba04c7fd.js"><link rel="prefetch" href="/assets/js/19.36e84324.js"><link rel="prefetch" href="/assets/js/20.e8d15c3c.js"><link rel="prefetch" href="/assets/js/21.888b6723.js"><link rel="prefetch" href="/assets/js/22.c3ddd3ca.js"><link rel="prefetch" href="/assets/js/23.638cf313.js"><link rel="prefetch" href="/assets/js/24.1c1de055.js"><link rel="prefetch" href="/assets/js/25.2c1ccb25.js"><link rel="prefetch" href="/assets/js/27.e99970c2.js"><link rel="prefetch" href="/assets/js/28.52806554.js"><link rel="prefetch" href="/assets/js/3.d0146488.js"><link rel="prefetch" href="/assets/js/4.b2d92a1d.js"><link rel="prefetch" href="/assets/js/5.27b125c1.js"><link rel="prefetch" href="/assets/js/7.0dccd0e0.js"><link rel="prefetch" href="/assets/js/8.9fb2722a.js"><link rel="prefetch" href="/assets/js/9.bfcd6fbc.js">
    <link rel="stylesheet" href="/assets/css/0.styles.c2acbf10.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">问安Coding</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端" class="mobile-dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/frontend/html/" class="nav-link">
  HTML
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端" class="dropdown-title"><span class="title">后端</span> <span class="arrow down"></span></button> <button type="button" aria-label="后端" class="mobile-dropdown-title"><span class="title">后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/backend/java/java_base/java.html" class="nav-link">
  Java
</a></li><li class="dropdown-item"><!----> <a href="/docs/backend/python/" class="nav-link">
  python
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="工具" class="dropdown-title"><span class="title">工具</span> <span class="arrow down"></span></button> <button type="button" aria-label="工具" class="mobile-dropdown-title"><span class="title">工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/tools/git/01.html" class="nav-link">
  Git
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端" class="mobile-dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/frontend/html/" class="nav-link">
  HTML
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端" class="dropdown-title"><span class="title">后端</span> <span class="arrow down"></span></button> <button type="button" aria-label="后端" class="mobile-dropdown-title"><span class="title">后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/backend/java/java_base/java.html" class="nav-link">
  Java
</a></li><li class="dropdown-item"><!----> <a href="/docs/backend/python/" class="nav-link">
  python
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="工具" class="dropdown-title"><span class="title">工具</span> <span class="arrow down"></span></button> <button type="button" aria-label="工具" class="mobile-dropdown-title"><span class="title">工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/tools/git/01.html" class="nav-link">
  Git
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>背景</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/tools/git/01.html" class="sidebar-link">版本控制系统的发展</a></li><li><a href="/docs/tools/git/02.html" class="sidebar-link">Git的原理</a></li><li><a href="/docs/tools/git/03.html" class="sidebar-link">版本控制系统应该具备的功能</a></li><li><a href="/docs/tools/git/04.html" class="sidebar-link">相关词汇</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>核心基础</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/tools/git/05.html" aria-current="page" class="active sidebar-link">基本命令</a></li><li><a href="/docs/tools/git/06.html" class="sidebar-link">Git分支</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>拓展知识</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><blockquote><p>git安装各位就自行解决吧~我要偷懒了</p></blockquote> <p>在成功安装好git之后，选择某个文件夹，右键选择git bash here即可打开git的命令窗口</p> <p><img src="https://cdn.jsdelivr.net/gh/cwenan/blog.img/20210727160044.png" alt="image-20210727160042271"></p> <blockquote><p>tab键可以自动补全某些文件名字</p></blockquote> <h2 id="查看配置"><a href="#查看配置" class="header-anchor">#</a> 查看配置</h2> <p>查看用户配置</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># 查看配置</span>
$ <span class="token function">git</span> config
<span class="token comment"># 或者</span>
$ <span class="token function">git</span> config --list


<span class="token comment"># 查看所有配置以及文件所在位置</span>
$ <span class="token function">git</span> config --list --show-origin
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="用户信息"><a href="#用户信息" class="header-anchor">#</a> 用户信息</h2> <p>每一次Git提交都需要用到用户名和邮箱地址，需要设置</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># 设置全局用户名和邮箱地址</span>
$ <span class="token function">git</span> config --global user.name <span class="token string">&quot;xxxx&quot;</span>
$ <span class="token function">git</span> config --global user.email <span class="token string">&quot;xxx@xxx.com&quot;</span>


<span class="token comment"># 设置项目级别的用户名和邮箱地址</span>
$ <span class="token function">git</span> config user.name <span class="token string">&quot;xxx&quot;</span>
$ <span class="token function">git</span> config user.email <span class="token string">&quot;xxx@xxx.com&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>在安装好git之后，我们一般先设置常用的用户名和邮箱地址作为全局选项，<strong>它只需要运行一次</strong>，Git在此之后都会使用到它。</p> <p>当先针对某个特点项目使用不同的用户名和邮箱地址时，可以设置项目级别的信息。</p> <p><strong>优先级：项目级 &gt; 全局</strong>，git会优先使用项目级的用户信息，如果没有，再使用全局的信息,使用<code>git config --list</code>命令即可查看已设置的信息。</p> <p>所有通过git命令修改的信息均可以在**.git目录**里面找到。</p> <h2 id="获取git仓库"><a href="#获取git仓库" class="header-anchor">#</a> 获取Git仓库</h2> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># 在本地初始化一个仓库</span>
$ <span class="token function">git</span> init

<span class="token comment"># 克隆远程项目的仓库，如github,gitee,</span>
$ <span class="token function">git</span> clone <span class="token operator">&lt;</span>url<span class="token operator">&gt;</span>

<span class="token comment"># 克隆远程仓库并且重命名仓库</span>
$ <span class="token function">git</span> clone <span class="token operator">&lt;</span>url<span class="token operator">&gt;</span> nickname
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="查看文件状态"><a href="#查看文件状态" class="header-anchor">#</a> 查看文件状态</h2> <p>所有工作目录里面的文件只有两种状态：<strong>已跟踪</strong>或者<strong>未跟踪</strong>。</p> <blockquote><p>已跟踪的文件是指那些被纳入了版本控制的文件，在上一次快照中有它们的记录，在工作一段时间后， 它们的状态可能是未修改，已修改或已放入暂存区。简而言之，已跟踪的文件就是 Git 已经知道的文件。工作目录中除已跟踪文件外的其它所有文件都属于未跟踪文件，它们既不存在于上次快照的记录中，也没有被放入暂存区，主要由Git忽略文件.gitignore来控制</p></blockquote> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># 查看文件状态，进行不同的操作后有不同的结果显示，同时这个命令也有下一步的操作提示</span>
$ <span class="token function">git</span> status
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="跟踪新文件"><a href="#跟踪新文件" class="header-anchor">#</a> 跟踪新文件</h2> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># 跟踪单个文件</span>
$ <span class="token function">git</span> <span class="token function">add</span> file_name




<span class="token comment"># 跟踪所有文件</span>
<span class="token comment"># 1.提交所有变化</span>
$ <span class="token function">git</span> <span class="token function">add</span> -A

<span class="token comment"># 2.提交被修改(modified)被删除(deleted)的文件，但不包括新文件，u为update的简写</span>
$ <span class="token function">git</span> <span class="token function">add</span> -u

<span class="token comment"># 3.提交新文件和被修改的文件，不包括被删除的文件</span>
$ <span class="token function">git</span> <span class="token function">add</span> <span class="token builtin class-name">.</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p><code>git add</code> 命令使用文件或目录的路径作为参数；如果参数是目录的路径，该命令将递归地跟踪该目录下的所有文件。</p> <p><code>git add xxx</code>的多个功能：</p> <ul><li>开始跟踪新文件</li> <li>把<strong>已跟踪又被修改</strong>的文件添加到暂存区</li> <li>合并时把有冲突的文件标记为已解决状态</li> <li>可以理解为：<strong>精确地将内容添加到下一次提交中</strong>而不是<strong>将一个文件添加到项目中</strong></li> <li>自己根据需要选择不同的命令，或者直接选择<code>git add -A</code>省事</li></ul> <h2 id="查看修改内容"><a href="#查看修改内容" class="header-anchor">#</a> 查看修改内容</h2> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># 本地工作区和暂存区内容的变化，即修改后还没有add的变化</span>
$ <span class="token function">git</span> <span class="token function">diff</span>

<span class="token comment"># 暂存区和最后一次提交commit的变化,cached和staged是同义词，两个命令效果相同</span>
$ <span class="token function">git</span> <span class="token function">diff</span> --staged
$ <span class="token function">git</span> <span class="token function">diff</span> --cached
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><strong>git diff 本身只显示尚未暂存的改动</strong>，也就是还没有add的那部分，如果此时执行<code>git add -A</code>命令，再使用<code>git diff</code>，此时什么也没有输出，因为所有改动已经add了</p> <h2 id="提交更新"><a href="#提交更新" class="header-anchor">#</a> 提交更新</h2> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">git</span> commit -m <span class="token string">&quot;填写备注信息&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>commit提交时会对你<strong>当时的内容</strong>进行一次快照来作记录，往后可以回溯到此状态。</p> <p><strong>简化式</strong></p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># 可以跳过git add 命令，因为这个命令里面本就包括了git add ---&gt; ('-a')</span>
<span class="token comment"># -a 包含所有已经修改过的文件</span>

$ <span class="token function">git</span> commit -a -m <span class="token string">&quot;备注&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="移除文件"><a href="#移除文件" class="header-anchor">#</a> 移除文件</h2> <p>移除文件，就是把目标文件从已跟踪文件中排除掉（从暂存区域移除），再提交。</p> <ul><li>已经提交到本地库的文件，使用命令删除</li></ul> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># 从工作区和暂存区中同时删除指定文件</span>
<span class="token comment"># 适用于已经提交到本地库的文件</span>
$ <span class="token function">git</span> <span class="token function">rm</span> file_name
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li>已经提交到本地库的文件但手动删除的文件</li></ul> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># 此时的文件处于一种：“删除了但未完全删除”的状况</span>
<span class="token comment"># 本地库是删除了，但暂存区还没有删除</span>
<span class="token comment"># 使用git status可以发现：Changes not staged for commit等语句</span>
<span class="token comment"># 使用rm命令来删除暂存区的文件</span>
$ <span class="token function">git</span> <span class="token function">rm</span> file_name
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ul><li>删除之前修改过或已经放到暂存区的文件，则必须使用强制删除选项 <code>-f</code>（force：强制）</li></ul> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">git</span> <span class="token function">rm</span> file_name -f
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>把文件从本地库（也就是暂存区）中删除，但仍保留在工作区</li></ul> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># 当忘记添加了.gitignore文件，或者把日志文件，隐私信息上传时</span>
$ <span class="token function">git</span> <span class="token function">rm</span> --cached file_name
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><code>git rm</code>后面可以列出文件或者目录的名字</p> <h2 id="查看提交历史"><a href="#查看提交历史" class="header-anchor">#</a> 查看提交历史</h2> <p>提交了若干更新，或者克隆了某个仓库，想要查看提交历史时</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">git</span> log
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>输出为：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">git</span> log
commit c500fc2f7a9897a3b0bd950e7b40f4899891e9c1 <span class="token punctuation">(</span>HEAD -<span class="token operator">&gt;</span> master<span class="token punctuation">)</span>
Author: cwenan <span class="token operator">&lt;</span>wenangongzi@gmail.com<span class="token operator">&gt;</span>
Date:   Thu Jul <span class="token number">29</span> <span class="token number">17</span>:06:35 <span class="token number">2021</span> +0800

    test02

commit 43bed9aedabf0d041b1142e5c9897cdeca1022c9
Author: cwenan <span class="token operator">&lt;</span>wenangongzi@gmail.com<span class="token operator">&gt;</span>
Date:   Thu Jul <span class="token number">29</span> <span class="token number">17</span>:05:48 <span class="token number">2021</span> +0800

    test01

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><ul><li>按照提交时间的先后顺序排列，最新跟新的在最上面</li> <li>包含时间，作者，邮箱，和SHA-校验（a11bef06a3f659402fe7563abf99ad00de2209e6这种玩意）</li> <li>当多条日志无法全部显示时：
<ul><li>空格向下翻页</li> <li>按键B向上翻页</li> <li>Q退出</li></ul></li></ul> <hr> <p>显示每次提交的差异，限制显示日志的数量：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># 显示每次提交的差异，限制显示日志的数量为2</span>
$ <span class="token function">git</span> log -p -2
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>输出为</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">git</span> log -p -2
commit c500fc2f7a9897a3b0bd950e7b40f4899891e9c1 <span class="token punctuation">(</span>HEAD -<span class="token operator">&gt;</span> master<span class="token punctuation">)</span>
Author: cwenan <span class="token operator">&lt;</span>wenangongzi@gmail.com<span class="token operator">&gt;</span>
Date:   Thu Jul <span class="token number">29</span> <span class="token number">17</span>:06:35 <span class="token number">2021</span> +0800

    test02

<span class="token function">diff</span> --git a/a.txt b/a.txt
index 94bab17<span class="token punctuation">..</span>d6f22d7 <span class="token number">100644</span>
--- a/a.txt
+++ b/a.txt
@@ -1 +1,2 @@
 hello, <span class="token function">git</span>
+hello, cwenan

commit 43bed9aedabf0d041b1142e5c9897cdeca1022c9
Author: cwenan <span class="token operator">&lt;</span>wenangongzi@gmail.com<span class="token operator">&gt;</span>
Date:   Thu Jul <span class="token number">29</span> <span class="token number">17</span>:05:48 <span class="token number">2021</span> +0800

    test01

<span class="token function">diff</span> --git a/a.txt b/a.txt
new <span class="token function">file</span> mode <span class="token number">100644</span>
index 0000000<span class="token punctuation">..</span>94bab17
--- /dev/null
+++ b/a.txt
@@ -0,0 +1 @@
+hello, <span class="token function">git</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><hr> <p>对以往的记录做出总结:</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># 对以往的记录做出总结</span>
$ <span class="token function">git</span> log --stat
commit c500fc2f7a9897a3b0bd950e7b40f4899891e9c1 <span class="token punctuation">(</span>HEAD -<span class="token operator">&gt;</span> master<span class="token punctuation">)</span>
Author: cwenan <span class="token operator">&lt;</span>wenangongzi@gmail.com<span class="token operator">&gt;</span>
Date:   Thu Jul <span class="token number">29</span> <span class="token number">17</span>:06:35 <span class="token number">2021</span> +0800

    test02

 a.txt <span class="token operator">|</span> <span class="token number">1</span> +
 <span class="token number">1</span> <span class="token function">file</span> changed, <span class="token number">1</span> insertion<span class="token punctuation">(</span>+<span class="token punctuation">)</span>

commit 43bed9aedabf0d041b1142e5c9897cdeca1022c9
Author: cwenan <span class="token operator">&lt;</span>wenangongzi@gmail.com<span class="token operator">&gt;</span>
Date:   Thu Jul <span class="token number">29</span> <span class="token number">17</span>:05:48 <span class="token number">2021</span> +0800

    test01

 a.txt <span class="token operator">|</span> <span class="token number">1</span> +
 <span class="token number">1</span> <span class="token function">file</span> changed, <span class="token number">1</span> insertion<span class="token punctuation">(</span>+<span class="token punctuation">)</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p>一行显示一条数据:</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">git</span> log --pretty<span class="token operator">=</span>oneline
c500fc2f7a9897a3b0bd950e7b40f4899891e9c1 <span class="token punctuation">(</span>HEAD -<span class="token operator">&gt;</span> master<span class="token punctuation">)</span> test02
43bed9aedabf0d041b1142e5c9897cdeca1022c9 test01
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>ok,常用的就这些，下表仅供参考</p> <p><img src="https://cdn.jsdelivr.net/gh/cwenan/blog.img/20210729171748.png" alt="image-20210729171739516"></p> <h2 id="撤销操作"><a href="#撤销操作" class="header-anchor">#</a> 撤销操作</h2> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># 当漏掉几个文件没有add就提交了，或者提交信息写错时</span>
$ <span class="token function">git</span> commit --amend
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>使用该命令后，如果上次提交后还没有作其他修改，它会打开一个vim窗口，可以直接在里面修改上一次的提交备注信息</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># 修改前</span>
$ <span class="token function">git</span> log
commit c500fc2f7a9897a3b0bd950e7b40f4899891e9c1 <span class="token punctuation">(</span>HEAD -<span class="token operator">&gt;</span> master<span class="token punctuation">)</span>
Author: cwenan <span class="token operator">&lt;</span>wenangongzi@gmail.com<span class="token operator">&gt;</span>
Date:   Thu Jul <span class="token number">29</span> <span class="token number">17</span>:06:35 <span class="token number">2021</span> +0800

    test02

commit 43bed9aedabf0d041b1142e5c9897cdeca1022c9
Author: cwenan <span class="token operator">&lt;</span>wenangongzi@gmail.com<span class="token operator">&gt;</span>
Date:   Thu Jul <span class="token number">29</span> <span class="token number">17</span>:05:48 <span class="token number">2021</span> +0800

    test01
   
   
   
   
   
   
<span class="token comment"># 修改后</span>
Lenovo@cwenan MINGW64 ~/Desktop/新建文件夹 <span class="token punctuation">(</span>master<span class="token punctuation">)</span>
$ <span class="token function">git</span> commit --amend
<span class="token punctuation">[</span>master 872d9c7<span class="token punctuation">]</span> modified_test02
 Date: Thu Jul <span class="token number">29</span> <span class="token number">17</span>:06:35 <span class="token number">2021</span> +0800
 <span class="token number">1</span> <span class="token function">file</span> changed, <span class="token number">1</span> insertion<span class="token punctuation">(</span>+<span class="token punctuation">)</span>

Lenovo@cwenan MINGW64 ~/Desktop/新建文件夹 <span class="token punctuation">(</span>master<span class="token punctuation">)</span>
$ <span class="token function">git</span> log
commit 872d9c7438a934f85c01b8974ff8220414f866ac <span class="token punctuation">(</span>HEAD -<span class="token operator">&gt;</span> master<span class="token punctuation">)</span>
Author: cwenan <span class="token operator">&lt;</span>wenangongzi@gmail.com<span class="token operator">&gt;</span>
Date:   Thu Jul <span class="token number">29</span> <span class="token number">17</span>:06:35 <span class="token number">2021</span> +0800

    modified_test02

commit 43bed9aedabf0d041b1142e5c9897cdeca1022c9
Author: cwenan <span class="token operator">&lt;</span>wenangongzi@gmail.com<span class="token operator">&gt;</span>
Date:   Thu Jul <span class="token number">29</span> <span class="token number">17</span>:05:48 <span class="token number">2021</span> +0800

    test01

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br></div></div><p>提交后发现忘记了暂存某些文件：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">git</span> commit -m <span class="token string">'initial commit'</span>  <span class="token comment">#最开始的提交信息</span>
$ <span class="token function">git</span> <span class="token function">add</span> forgotten_file          <span class="token comment">#添加文件</span>
$ <span class="token function">git</span> commit --amend			  <span class="token comment">#修改提交信息</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>使用该命令，旧有的提交从未存在过一样，它并不会出现在仓库的历史中。</p> <p><strong>撤销对文件的修改</strong></p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># (use &quot;git checkout -- &lt;file&gt;...&quot; to discard changes in working directory) ,还原到上一次提交的样子</span>
$ <span class="token function">git</span> checkout --file_name
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>取消暂存的文件</strong></p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment">#(use &quot;git reset HEAD &lt;file&gt;...&quot; to unstage) </span>
$ <span class="token function">git</span> reset HEAD file_name
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>后两个撤销提示可由<code>git status</code>可得</p> <h2 id="本地重置"><a href="#本地重置" class="header-anchor">#</a> 本地重置</h2> <p>在git里面，是有后悔药吃的</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># 获取以往的提交记录</span>
$ <span class="token function">git</span> reflog

<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span>
$ <span class="token function">git</span> reflog
0734810 <span class="token punctuation">(</span>HEAD -<span class="token operator">&gt;</span> master<span class="token punctuation">)</span> HEAD@<span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">}</span>: commit: b
ab357a2 HEAD@<span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">}</span>: commit: what up
3a5dd4a HEAD@<span class="token punctuation">{</span><span class="token number">2</span><span class="token punctuation">}</span>: commit <span class="token punctuation">(</span>initial<span class="token punctuation">)</span>: <span class="token function">git</span> commit
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>重置到某个提交版本的三种方法：</p> <ul><li>1.<code>git reset --hard 索引值</code>,比如<code>git reset --hard 315dd4a</code>,便可以重置到该版本，能后退，能前进，<strong>推荐</strong></li> <li>2.使用<code>^</code>符号，只能后退，比如<code>git reset --hard HEAD^</code>表示后退一个版本，一个^后退一个版本，n个^后退n个版本，只能后退</li> <li>3.使用<code>~</code>符号，<code>git reset --hard HEAD~n</code>,n代表后退几个版本，具体参考<code>HEAD@{n}</code>,只能后退</li></ul> <p><code>git reset</code>的三个参数：</p> <ul><li>--soft：仅仅在本地库移动HEAD指针</li> <li>--mixed：在本地库移动HEAD指针，重置暂存区</li> <li>--hard：在本地库移动HEAD指针，重置暂存区，重置工作区</li></ul> <h2 id="远程仓库"><a href="#远程仓库" class="header-anchor">#</a> 远程仓库</h2> <blockquote><p>远程指的是在另一个地方的仓库，可以在本地主机，也可以在互联网，但一般指互联网，如GitHub，gitee等</p></blockquote> <p><strong>添加远程仓库</strong></p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># git remote add 别名 地址,     origin是Git默认的别名,可以使用其他的名字来代替origin,只不过习惯如此</span>
$ <span class="token function">git</span> remote <span class="token function">add</span> origin https://github.com/cwenan/test
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>当你直接使用<code>git clone</code>命令克隆仓库时，同时也会把远程仓库地址记录下来</p> <p><strong>查看远程仓库</strong></p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># 显示需要读写远程仓库使用的 Git 保存的简写与其对应的 URL</span>
$ <span class="token function">git</span> remote -v
origin  https://github.com/cwenan/hello-world <span class="token punctuation">(</span>fetch<span class="token punctuation">)</span>
origin  https://github.com/cwenan/hello-world <span class="token punctuation">(</span>push<span class="token punctuation">)</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><strong>从远程仓库中抓取</strong></p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">git</span> fetch  <span class="token punctuation">[</span>远程库地址别名<span class="token punctuation">]</span> <span class="token punctuation">[</span>远程分支名<span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>这个命令会访问远程仓库，从中拉取所有你还没有的数据。</li> <li>执行完成后，你将会拥有那个远程仓库中所有分支的引用，可以随时合并或查看。</li> <li><code>git fetch</code> 命令只会将数据下载到你的本地仓库——它并不会自动合并或修改你当前的工作,需要和<code>git merge</code>命令配合</li></ul> <p>此时的别名origin代码代表整个仓库的URL，如想拉取该仓库便可使用<code>git fetch master</code>,访问该仓库的分支master使用<code>origin/master</code></p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># git pull 是git fetch 和git merge的结合，它会从远程库里面抓取数据并且尝试合并</span>
$ <span class="token function">git</span> pull  <span class="token punctuation">[</span>远程库地址别名<span class="token punctuation">]</span> <span class="token punctuation">[</span>远程分支名<span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>推送到远程仓库</strong></p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># git push &lt;remote&gt; &lt;branch&gt;,远程库自动创建一个master分支，也称为主分支</span>
$ <span class="token function">git</span> push origin master
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>远程仓库重命名和移除</strong></p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># 重命名</span>
$ <span class="token function">git</span> remote -v
origin  https://github.com/cwenan/hello-world <span class="token punctuation">(</span>fetch<span class="token punctuation">)</span>
origin  https://github.com/cwenan/hello-world <span class="token punctuation">(</span>push<span class="token punctuation">)</span>
<span class="token comment"># origin----&gt;abc</span>
Lenovo@cwenan MINGW64 ~/Desktop/新建文件夹 <span class="token punctuation">(</span>master<span class="token punctuation">)</span>
$ <span class="token function">git</span> remote <span class="token function">rename</span> origin abc

Lenovo@cwenan MINGW64 ~/Desktop/新建文件夹 <span class="token punctuation">(</span>master<span class="token punctuation">)</span>
$ <span class="token function">git</span> remote -v
abc     https://github.com/cwenan/hello-world <span class="token punctuation">(</span>fetch<span class="token punctuation">)</span>
abc     https://github.com/cwenan/hello-world <span class="token punctuation">(</span>push<span class="token punctuation">)</span>


<span class="token comment"># 删除某个仓库</span>
$ <span class="token function">git</span> remote remove remote_name
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h2 id=""><a href="#" class="header-anchor">#</a></h2></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">最后更新时间:</span> <span class="time">2021年7月31日</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/docs/tools/git/04.html" class="prev">
        相关词汇
      </a></span> <span class="next"><a href="/docs/tools/git/06.html">
        Git分支
      </a>
      →
    </span></p></div>  <!----></main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/assets/js/app.393b6f2a.js" defer></script><script src="/assets/js/6.42dbbf34.js" defer></script><script src="/assets/js/2.b314cc4e.js" defer></script><script src="/assets/js/26.b13a76d7.js" defer></script>
  </body>
</html>
